# Bitrix24 Configuration
# Your Bitrix24 domain (without https://)
BITRIX24_DOMAIN=your-domain.bitrix24.com

# Inbound webhook URL with token (create in Bitrix24 > Applications > Webhooks)
BITRIX24_INBOUND_WEBHOOK=https://your-domain.bitrix24.com/rest/1/your-webhook-key/

# Outbound webhook secret (set in Bitrix24 webhook configuration)
BITRIX24_OUTBOUND_SECRET=your-outbound-secret-key

# Bot user ID in Bitrix24 (usually 1 for the first bot)
BITRIX24_USER_ID=1

# Google Gemini Configuration
# Get API key from https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key

# Gemini model to use (gemini-2.5-pro is recommended for production)
GEMINI_MODEL=gemini-2.5-pro

# Google Cloud Configuration
# Your Google Cloud project ID
GOOGLE_CLOUD_PROJECT=your-project-id

# Firestore database ID (default is usually fine)
FIRESTORE_DATABASE_ID=(default)

# Vertex AI location for embedding generation
VERTEX_AI_LOCATION=us-central1

# Google Cloud Storage bucket for file attachments (Phase 2)
GCS_BUCKET_NAME=chantilly-adk-files

# Path to service account JSON file (for local development)
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# Server Configuration
# Port for the Express server (8080 for Cloud Run)
PORT=8080

# Environment (development, production, test)
NODE_ENV=development

# Service name for logging
SERVICE_NAME=chantilly-adk

# Cloud Run service URL (set after deployment)
# CLOUD_RUN_SERVICE_URL=https://your-service-run.app

# Queue Configuration
# Maximum retries for failed API calls
QUEUE_MAX_RETRIES=3

# Delay between retries (milliseconds)
QUEUE_RETRY_DELAY=5000

# Tool execution timeout (milliseconds) - 12 minutes for complex agentic operations
TOOL_EXECUTION_TIMEOUT=720000

# Bitrix24 rate limits
RATE_LIMIT_PER_SECOND=2
RATE_LIMIT_PER_10MIN=10000

# Translation Feature Configuration
# JSON object mapping language codes to Bitrix24 dialog IDs for translation
# Example: {"es":"chat123","fr":"chat456","de":"chat789"}
TRANSLATION_TARGET_DIALOG_IDS={}

# Monitoring Configuration
# Enable Cloud Logging integration
USE_CLOUD_LOGGING=true

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable metrics collection
ENABLE_METRICS=true

# Prompt Management
# Use Firestore for prompt overrides (false = use code-based prompts only)
USE_DB_PROMPTS=false

# Vector Search Configuration (Week 3-4 Features)
# Enable semantic search for knowledge base documents
ENABLE_VECTOR_SEARCH=true

# Enable semantic matching for task templates
ENABLE_SEMANTIC_TEMPLATES=true

# Enable semantic tool trigger detection
ENABLE_SEMANTIC_TOOLS=true

# Gradual Rollout Configuration (Week 4)
# Percentage of requests that should use vector search (0-100)
VECTOR_SEARCH_ROLLOUT_PERCENTAGE=100

# Percentage of requests that should use semantic template matching (0-100)
SEMANTIC_TEMPLATES_ROLLOUT_PERCENTAGE=100

# Percentage of requests that should use semantic tool detection (0-100)
SEMANTIC_TOOLS_ROLLOUT_PERCENTAGE=100

# Authentication
# JWT secret (auto-generated if not provided)
JWT_SECRET=your-super-secret-jwt-key-here
JWT_EXPIRES_IN=24h

# File Storage Configuration
# Automatic cleanup of old files (days)
FILE_CLEANUP_DAYS=7

# Maximum file size for uploads (MB)
MAX_FILE_SIZE_MB=10

# Default admin credentials (change immediately after deployment)
DEFAULT_ADMIN_USERNAME=rrahman
DEFAULT_ADMIN_PASSWORD=Password1234
DEFAULT_ADMIN_EMAIL=rabshan@deepauras.com